<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head'); %>
  </head>

  <body>
    <header>
      <%- include('./partials/nav-simple'); %>
    </header>

    <h2 class="d-flex justify-content-center py-xxl-5">ACCOUNT REGISTRATION</h2>
    <div class="container d-flex flex-column align-items-center justify-content-center">
        <% if (userExists) { %>
            <p class="text-danger col-md-4" name="UserExists">User already exists.</p>
        <% } %>
        <form method="post" action="/user/register" class="col-md-4 was-validated">
            <div class="my-3">
                <label for="fullname">Full Name:</label>
                <input type="text" name="fullName" class="form-control" id="fullname" placeholder="Enter your full name" required>
            </div>
            <div class="my-3">
                <label for="dob">Date of Birth:</label>
                <input type="date" name="dob" class="form-control" id="dob" placeholder="DD/MM/YYYY" required>
            </div>
            <div class="my-3">
                <label for="address">Address:</label>
                <input type="text" name="address" class="form-control" id="address" placeholder="Enter your address" required>
            </div>
            <div class="my-3">
                <label for="email">Email:</label>
                <input type="email" name="email" class="form-control" id="email" placeholder="Enter your email" required>
                <div class="invalid-feedback">Incorrect email format</div>
            </div>
            <div class="my-3">
                <label for="confirmemail">Confirm Email:</label>
                <input type="email" class="form-control" id="confirmemail" placeholder="Enter your email again" required>
                <div class="invalid-feedback">Incorrect email format</div>
            </div>
            <p class="text-danger" id="emailnotmatch" name="EmailNotMatch">Email not match</p>
            <div class="my-3">
                <label for="password">Password:</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter your password" required>
            </div>
            <div class="my-3">
                <label for="confirmpassword">Confirm Password:</label>
                <input type="password" class="form-control" id="confirmpassword" placeholder="Enter your password again" required>
            </div>
            <p class="text-danger" id="passwordnotmatch" name="PasswordNotMatch">Password not match</p>
            <div class="container text-center my-4">
                <input type="submit" class="btn btn-warning col-md-3" value="Register" />
            </div>
            <p class="text-center my-3">Already have an account? <a href="/user/login">Log in</a></p>
        </form>
    </div>

    <script>
        var email = document.getElementById("email");
        var confirmemail = document.getElementById("confirmemail");
        var password = document.getElementById("password");
        var confirmpassword = document.getElementById("confirmpassword");

        confirmemail.onkeyup = function () {
            if (email.value != confirmemail.value) {
                document.getElementById("emailnotmatch").style.display = "inline-block";
            } else {
                document.getElementById("emailnotmatch").style.display = "none";
            }
        }

        confirmpassword.onkeyup = function () {
            if (password.value != confirmpassword.value) {
                document.getElementById("passwordnotmatch").style.display = "inline-block";
            } else {
                document.getElementById("passwordnotmatch").style.display = "none"
            }
        }
    </script>
  </body>
</html>